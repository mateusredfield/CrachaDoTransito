======================== ConduApp =====================================================

Tarefas

- revisar o create update de credenciamento, pois precis checar o status é atualizado qndo
da ativo inativo e nao muda o do motorista - 0.5

- terminar o design base primeiro - 16

- revisar livrinho para o design - 2

- colocar campo clrv como ano de exercicio - 1

- inves de idade data de nascimento - 2

- coluna clrv adiciona em veiculo, no projeto como um todo e na API PRC - 6

- design, encaixar os designs na tela com os servicos, fazer servicos adicionais - 16

- pesquisa pode ser por conduapp ou cpf - 4

- adicionar mais servicos inves de modificar os ja existentes

- servico de voltar o veiculo, agora volta o veiculo e os condutores dele - 6

- servico que volta os condutores, volta tambem todos os carros q ele dirige - 6

- alterar super servico 

ok - incluir crlv no bd

- prc

- create prc - 2

ok - colocar no cabecalho, article e footer no site localhost

- faze os designs especificados

- menu - 2

- manual

- fazer sem paginacao por enquanto - 6

- rever o shorthando do flex - 1

- tela do credenciamento - filtros como cpf, conduapp, placa. Todos os motoristas, carros 12

ok - colocar os nomes nos campos antes de tirar os prints

- servicos da home - 4

ok - tirar a visualizacao do CRUD, exceto os gets

- Colocar consulta da pagina do hash mas usando cpf

- url amigavel com route

- servico adicional para mandar as fotos base em baseviaCpf

- observacao na alteracao da situacao - tipo uma textbox

- (reuniao) tabela log

- (reuniao) brasao com botao de home

- fazer o site

- alguma coisa de retorno mais personalizado a cada requisicao, talvez algum retorno da familia 200 qndo da certo

- fazer pagina mockada da setransp que tem essas funcionalidades

- a pagina da setransp vai ter uma consulta condutor, que vai retornar um condutor
e nessa mesma vai ser liberado a url com a hash q vai linkar para uma pagina publica
com os dados do motorista. Parece q as paginas vao ser iguais

ok - timeout nao esta derrubando

ok - checar se o token ta expirado

- pesquisar se pode usar httpclient estatico

- padrao q da extend em classe, padrao de acrestar metodo numa classe, exemplo do
register services

- padrao visitor, tecnica pra extend o objeto

- bater os tipos nulls das models com os not nulls com o bd, usando builder talvez

- Parte de punicoes ainda nao esta clara

- reconsiderar funcao de paginacao pq parece q ela traz todos e nao pagina de verdade

- zerar bd

- tabela log

- documentacao

- status inativo vai ser direto da alimentacao do super servico

(futuramente) precisa colocar os anos dinamicamente por js ate o ano corrente

(futuramente) espeficicar no swagger os limites de banda e colocar um tempo de 5 min entre cada
request

(futuramente) colocar as orientacoes nos appsettings recebiddas pelo slack do henrique

(citacao) Frizar q nao vao conseguir dar update por chave primaria
 tem q bater o cnpj com o de prc cnpj do bd

(citacao) a pessoa consegue ter dois conduapp pra evitar incosistencia

(futuramente) servicos de mudanças de status empresa e carro

(futuramente) Ver se precisa da tabela usuarios

(futuramente) retirar thread blocking do cabecalho, desempenho pode ser reduzido

(futuramente) Revisar quais sao as tabelas necessarias para a primeira entrega

(futuramente) Colocar os erros mais precisos como o 401

(futuramente) estudar novamente await, a funcao de logout foi tensa

(futuramente) Tratativa de erros mais consisa

(futuramente) Colocar mais try

(futuramente) pode ser que tenha update duas vezes pq nao codei direito

(futuramente) Derrubar sessao qndo receber unauthorize

(futuramente) pedir vistoria no appsettings

(futuramente) o agente de transito é muito necssario

(futuramente) - Revisar a tabela carro depois

(futuramente) Ver diferenca entre IEnumerable e IList, ver sobre nullable pois o bd tem mtos null

(futuramente) tem q bater o cnpj com o de prc cnpj do bd

(futuramnte) historia de validacao do prc na requisicao

- art 39 e 47 - reler

 - (futuramente/pos treinamento) Estudar git ignore para projeto Visual Studio, 
   mas talvez o template ja tenha

- (futuramente/pos treinamento) ler sobre addscoped 

- (futuramente/opcional) Usabilidade futura, qndo cair na pagina de atualizacao ja trazer os dados previos

- (futuramente/pos treinamento) Chaveamento da troca das versoes da api

============================================================================================

 Preciso Ler
 
  - https://learn.microsoft.com/en-us/aspnet/mvc/overview/older-versions-1/models-data/validation-with-the-data-annotation-validators-cs


============================================================================================


Anotacoes

 - Client.BaseAddress = new Uri(StaticConfiguration.GetValue<string>("BaseUrl"));

 - Tavlez as tratativas de erro pudessem ser melhores

 - Precisa versionar o projeto exemplo pois da pra seguir dele

 - Ver onde ficam as DTOs

 - automatizado

 - Lmebrar que parece q a aplicacao fornece a interface do q ela precisa pra depois a apresentacao
 implementar essa camada

 - https://github.com/mateusredfield/CrachaDoTransito.git Keyckloak fica na infra

Talvez reler pois tem 3 tipos de injecao, construtor, propriedade e metodo
 -https://www.tutorialsteacher.com/ioc/dependency-injection#google_vignette

 - ok - Ler duvidas para reuniao, importante frizar q o pedido dos dados pode influenciar na entrega tanto da setransp qnto das empresas,
 e deixar isso homologado por email para caso ocorra atraso fica justificado

 - anotacao - DbExpress nao tem mais, agora é dblocal, nao tem limite de tamanho mas nao tem backup

 - anotacao - Reduncia pois é um projeto rapido

  - ( nao fazer ) Pegar exemplo do felipe para entender algumas modelagens. Nao fazer
 por questoes de tempo

 - Metodo pra busca parcial de placas (exmplo todas que comecem com 123, todas placas SP)

 - query tava dando pau com data annotation

 - O site mvc tem replicas da models e commands


{
  "cnpjEmpresa": "2",
  "nomeEmpresa": "ab",
  "linhas": [
    {
      "cpfMotorista": "12345678910",
      "nomeMotorista": "fulano",
      "idadeMotorista": "30",
      "statusMotorista": "Ativo",
      "placaCarro": "XXX1234",
      "modeloCarro": "fiat",
      "corCarro": "branco",
      "anoCarro": "2020",
      "statusCarro": "Ativo"
    }
  ]
}


============================================================================================

Perguntar

Bruno

 - As models do mvc precisam estar tambem no apliacao ou nao, pois e um cliente externo

 Duvidas
 
 Tata

 - Importante - so foi possivel faze o q foi feito por causa da extensao dos horarios

 - 403 - perdi 1 dia util com o ban q tomei sem fazer nada errado, mas a segurança entendeu 
q tinha codigo malicioso, keycloak com pouca informacao sem framwork, com devops, com
- ex keycloak precisa das urls cadastradas, nao so roles com usuarios client secrets e idadeMotorista
- alem de ter um problema severo de proxy reverso do proprio keycloak q ainda nao se sabe 
se vem da aplicacao ou do server, imagina-se config da aplicacao
- agora tem hash extenso numa pagina q seria mais simples em tese

 - faltou status do veiculo

 - mandar msg slack com o pedido

- qual o default do status qndo da create motorista

- Frizar q nao vao conseguir dar update por chave primaria
 tem q bater o cnpj com o de prc cnpj do bd

- Telas o mais simples possivel e nao precisa ser todas

- informacoes sobre a leitura do qr code

- Explicitar q os dados do tipo chave primaria nao serao alterados por bulk de dados
dados das empresas, mas sim por um usuario do site, no caso poderia se dar um
usuario para as empresas caso eles errem os dados

- Explicitar q as emrpesas farao bulk em ambiente de treinamento, e depois em producao

- Clonagem de placa e documentos, ex se o conduapp tiver no carro o cara consegue tirar foto
e passar em outro carro com documento de outra pessoa tb

- 1 dia util de outubro com todas as empresas muito improvavel

- faremos chacagem de multas

 - Conduapp e de motorista mas se estiver estampado no carro nao da certo pois cada carro pode ter
 diversos motoristas

 - Conduapp Sendo numero senquencial poderia ser falha de seguranca

 - cronograma com as tarefas mais trabalhosas estimadas com base no tempo que os colegas levaram para fazer coisas afins

 - Ver tamanho das requisoes com a infra

 - como vai ser a tabela log, pois ela por exemplo poderia salvar tambem os updates de dados inconsistentes das empresas

 - como vai ser a tabela punições (sanções ou penalidades, ainda não sei o nome)
   Quais vao ser as punicoes possiveis Suspensao Temporaria (com data de início termino) precisa ser colocado pela setransp
   
 - Qntos digitos o conduapp vai ser  

 - Vai ter área do motorista na apliacação

 - O motorista vai portar o conduapp apenas na foma de qr code

 - Como fica a tabela Log de ações, verificar se a modelagem do bd já tem log de ações

(parcial) Conduapp - vai ser so numeros ou vai ter letras - so numeros, sequencial, so falta qntos digitos vao ser

Duvidas pra reuniao

===========================================================================================
Regras de Negocio

 - Assumindo que os cpf viram incosistentes, o conduapp foi usado como chave no credenciamento
 - O banco aceita duplicatas por hora inezlimente em condutor
 - Problema - Nao tera acesso direto no BD pra mudar dados, seguindo politica de bd relacional
   mas eu mesmo nao gosto da ideia
 - Suspensao Temporaria (com data de inicio termino) pela Setransp mesmo (admin a priori)
 - Codigo -2 significa dados incorretos do form, seja por nulo ou improprios
 - appSettingsParts nao é usado, apenas esta la para referencia 
 - Agente de transito só consulta
 - Veiculo nao tem mesma placa, uma placa pra cada veiculo
 - ConduApp gerado pela app
 - Carro pode estar Suspenso para empresa apenas e cidade
 - Dados e consistencia ficam a cargo da empresa
 - Setransp vai ver empresa e status, e pode mudar esse
 - Qr equipe do rafa
 - Tabela de log de acoes, com campo de log obrigatorio
 - Autenticacao qndo usa API fica com a infra
 - Itinerario nao (km futuramente)
 - Deixar CPF unico (mas ainda usar id)
 - Compilacao de versoes novas de API sem derrubar o site
 - Carro pode estar Suspenso para empresa apenas e cidade
  - (nao fazer) Deveria checar a consistencia da placa talvez, talvez, pois é responsabilidade
 da empresa
 - A senha default do keykloak é 123, a usada padrao pra local dev etc é 1 a 6 ou 1 a 8Aa@
 - Keykloak role admin e gestor para meu usuario, em localhost:44310
 - Publicao do site fica em um lugar e backend api em outro
 - Status do motorista pode ser ativo inativo suspenso
 - CPF nao e unico pois vai haver incosistencias logo precisa deixar repetir, o q vai ser unico
   vai ser o id e o conduapp dele
 - hospedagem e url - \\desenvolvimento\ConduAp http://desenvolvimento:8018
 - datatime default - 01-01-2000
 - Dado que vai haver incosistencias a solucao provisoria ja foi pensada
 - Status de motorista refere-se a situacao dele na cidade como motorista de app geral
 - Status do carro idem a motorista
 - Credenciamento q diz se o dado motorista pode andar com aquele carro por aquela empresa
 - O metodo que retorna conduapp nao esta a prova de incosistencia pq nao tem como
 saber se um cpf esta duplicado com mais de um conduapp
 - Qndo o cpf nao tem conduapp vinculado, o retorno inicial é menos -1, depois outro
 metodo decide se ele sera inserido
 - O metodo getConduApp esta em dois arquivos
 - CreateConduapp apenas gera o numero, e nao insere no bd, e inclusive o numero nao
 e unico pois é gerado com base no ultimo numero inserido na tabela condutor
- 30Mb da Refused
- Nao pode mexer direto no bd se nao da incosistencia
- Status de carro tambem nao conta pois isso tambem é servico derivado
- Motorista é criado com ativo por default
- Update carro e motorista nao dao update no status, usa-se servico especifico para isso
- Thread Blocking na adicao do header
- as aginas precisa passar por index pra setar direito o token
- acho q prc precisa cadastrar usando o site, pois o superservico nao deve fazer isso
- a pessoa consegue ter dois conduapp pra evitar incosistencia
- 403 - perdi 1 dia util com o ban q tomei sem fazer nada errado, mas a segurança entendeu 
q tinha codigo malicioso, keycloak com pouca informacao sem framwork, com devops, com
- ex keycloak precisa das urls cadastradas, nao so roles com usuarios client secrets e idadeMotorista
- alem de ter um problema severo de proxy reverso do proprio keycloak q ainda nao se sabe 
se vem da aplicacao ou do server, imagina-se config da aplicacao
- agora tem hash extenso numa pagina q seria mais simples em tese
- se tiver a palavra talvez desenvolvimento login nao deve funcionar direito

===========================================================================================
Backlog

 ok - rever - Hello World em Clean conectando com bd

 ok - Tabela com chave, auto increment correto

 ok - Conduap -  Alinhar nome do projeto

 ok - Versionar - adicionei remoto errado sem querer mas corrigi, 
  problema foi q gastou algumas horas

 ok - Implementar command com handler proprio e implicit operator, 
 modelstate na controller para uma entendi

 ok - Validacao IO (app - regras de negocio) com commands e handlers pra 
 fazer IO - Infra
 
 ok - Validacao command (command - datasets)
 
 ok - Ver os 3 espaços de validacao
 
 ok - Conversar com a gestora sobre se deve-se falar ou nao com o cliente, pois o escopo da memoria é um e a lei nao 
 
 ok - (geladeira) -  Ressalva consideravel - A validacao esta sendo feita artesanalmente para 

 ok - coelga disse q é ok usar viewmodel com clean

 ok - Fazer o json do objeto

 ok - Falta documentos na tabela condutor

 ok -  Lembrar onde colocar o data notation

 ok - Pedido de criacao do bd fica com a tata

 ok - Versionar

 ok - Ler assinador avançado pra ver Questoes do builder e modelo de dados

ok - Clean Architerure usando template, 

ok - Pedir Permissões de projeto - Ambiente git para esse projeto

ok - duvida - Usar viewmodel ou nao, olhar como esta o projeto

ok - duvida - Checar o projeto como um todo

ok - duvida - Seria o template mais pra se basear?

ok - duvida - O Assinador avançado nao tem projeto de api no UI

ok - duvida - Pq tem model na interface do domain

ok - duvida - Handler e CQRS nao estou usando mas tb nao lmebro de ter visto no template

ok - duvida - Comentar sobre focar em um design pattern ou outro pois todos nao vai dar

ok - duvida - Falta algo do tipo DTO

ok - duvida - A aplicacao mvc conhece infra

ok - duvida - Pq o dominio tem uma interface se ele nao deve conhecer ninguem, ele nao deveria saber que metodos
ele precisaria pois ele deveria conter apenas informacao, e nao metodos pq parecem implicar em regras
de negocio da aplicacao, sendo assim o dominio deveria conhecer apenas dominio

ok - Todo command precisa ter a ida e volta

ok - Nome do app e nome do bd, Sistema Conduap

ok - duvida - Caso do motorista alegar ser registrado mas placa nem qr forem encontrados 
(possivel incosistencia no dado enviado antes)

ok - Validacao Infra (Buidler) - Infra - IO

- ok -Cronograma - Talvez usar o monday ou algo do tipo, mas nao, tfs por ser conhecido
 pelos demais, acordado em reuniao

- ok - funcionou, problema estava na callback, Testar o q ja coloquei, olhar a
callback deles

ok - Ressalva - Existem mais opcoes mas foi optado o caminho mais simplicado, apesar disso
  foi tortuoso pois a documentacao é escassa e dispersa Ler e implementar keykloak

ok - CRUD completo para PRC exceto builder, e a mais controller UI usando controller API

ok - por enquanto uma so, mas alternativa futura seria uam area pra cada empresa. No bulk pode havar empresas colocando motoristas com dados incosistentes, o q fazer
 pois cada empresa vai dar um bulk, talvez precise de uma tabela de atualizacoes, e uma tabela que guarde o bulk

ok (teoria) - O que fazer com o mer qndo tem mudanca de requisito, criar mais tabelas ou nao

ok - Frizar em pedir os dados para a setranps e as empresas ao mesmo tempo, de preferencia ja entrar em contato com a vim te buscar

ok - Ler duvidas para reuniao, importante frizar q o pedido dos dados pode influenciar na entrega tanto da setransp qnto das empresas,
 e deixar isso homologado por email para caso ocorra atraso fica justificado

ok - nao pode - Precisa checar se pode criar veículo novamente com a mesma placa (a priori acho que não deveria)

ok- um - Quantos conduapp a pessoa vai ter

ok - Se a empresa para de atuar na cidade precisaria de um status de ativo/inativo

ok - tem - Preciso saber se temos exoneração de responsabilidade quanto a consistência de dados, como telefone do motorista

ok - ficam -  Os documentos CNH etc ficam a cargo da setransp, ou o app infelizmente precisara cuidar disso

ok - futuramente - dado que a lei afirma que o vínculo da empresa precisa ser renovado após 1 ano, deveria haver uma opção de
Renovação desde já no app ou poderiamos postergar isso

ok - nao precisa - Os tokens devem ser persistidos no bd? Onde? devem ser encripatados? 

ok - setransp - Três penalidades consecutivas, punição é o app ou o admin que coloca isso

ok - futuramente dados do itinerário dos motoristas seriam relevantes ou não

ok consistencia de dados a empresa q vai ficar responsavel, o log vai dizer quem fez o q - CPF não está sendo usado com chave primaria pois precisa-se saber se ele pode estar errado e
 por algum motivo precise ser atualizado, pois a validade do mesmo apenas a receita federal pode atestar

ok - Controller PRC do site MVC finalmente usando servico da API com viewmodl e command aparentemente

ok -  Refatoracao parcial concluida

ok - Replicar todo o fluxo acertado em PRC para veiculo

ok - Replicar todo o fluxo acertado em PRC para Contudor

ok - Ver onde tratar tudo isso na entrada pq n tem trativa em nada

ok - multproj - se precisa deixar o projeto da api rodando separado dado q os dois vao ficar separados 

ok Bug resolvido (2 a 4 horas) - o servico estava amarrado ao site mvc ainda, por isso
que dava pau em uma e na outra

ok - Replicar todo o fluxo acertado em PRC para Credenciamento

ok -  Autenticacao no swagger

ok - parcialmente refatorado pela alternativa funcionar bem possivelmente refatorar toda a parte da viewmodel

ok - colocar campo status e punicoes em prc

ok - Veiculo pode precisar de refatoracao pois a viewmodel deveria ser uma lista apenas, por hora nao

ok - nao fazer - pois vai haver incosistencia por parte das PRC - Deixar CPF unico (mas ainda usar id)

ok - nao fazer, se ja houver a placa cadastra duas vezes ou mais por hora. Deveria checar se 
 nao tem um veiculo com a placa ja cadastrada (unique talvez)
 antes de colocar (durante as gravações de dados após o bulk)

ok - Tabela Credenciamento (agregacao)

ok - SuperServico operando apenas para gerar condutores por hora

ok - Pegar o json exemplo sem autenticacao e chamar o servico

ok - coloquei implementacao em app mas nem tanto (superServico)

ok - nao, no maximo a tabela log - saber se os dados do bulk vao precisar ficar salvos ou nao apesar da responsabilidade
de dados ser da empresa (provavelmente nao)

ok - ja tinha - credenciamento precisa de data

- swagger tambem (2o swagger) modelagem json (super servico), no caso as empresas terao acesso
ao swagger qndo autenticarem

ok - pelo header - perguntar se a autenticacao pode vir pelo json

ok - deveria ser no handler com command quebrando em commands menores metodos getConduApp gerarConduApp 
precisam ser revisados pois podem nao estar nas melhores classes

ok - nao pode ir pra treinamento sem autenticacao frizar o servico sem autenticacao por hora em treinamento, 
depois com autenticacao pois ja se tem o json

ok (parcial) - coloca as validacoes nos demais commands

ok (parcial) - Servico pra garar o conduapp

ok - Comecar modelo do super servico do json, deve ser em credenciamento

ok (parcial) ver se o nome das camadas esta ok

ok - super servico com autenticacao, com ajuda de colega de login unico

ok -  remover authenticate dessa api e colocar na api reservada para os externos

ok - nao precisa -  tabela PRC com clientID (mas nao em toda a historia com validacao)

ok - nao precisa - o tamanho dos dados e tempo de resposta vai ser limitado por pelos
  server de pg mas é bom especificar no swagger super servico com limitador, dados, linhas e 
  por tempo (talvez)

ok - super servico com swagger a parte

ok - super servico abstraindo tamanho dos dados e numero de linhas, mas sabendo o formato do json

ok - Atribuir autenticacao do swagger no servico

ok - Pedir usuario teste pra fazer teste de carga

ok - ja foi pedido o tecnico e ja se tem o servico exceto a publicacao - Pedir para 
entrar em contato com a empresa com o json informado e pedir pra por enquanto ser
sem autencicao, mas pelo menos dar o modelo do json

ok - retirar alteracao de status motorista do super servico

ok - logica do numro do conduapp

ok - super servico e pedir pacote treinamento (keykloak usuarios, ambiente publicacao e base de dados)
usuarios, roles
pacote treinamento 
  keycloak - mateus gestor, agente, fulano gestor, beltrano agente, clientId e clientsecret
  da apliacao 
  ambiente de publicacao com caminho do armazenamento, e url de publicacao
  banco de dados de treinamento com permissoes para o dev

ok - pedir as telas - o mais simples possivel pois nao ha requisito tecnico qntoa  layout
logo nao ha rigor nisso por ser cosmetico e nao estar requisitado previamente

ok -  retirar alteracao de status no super servico, isso fica a cargo da secretaria
no servico de vizualizacao de alteracao de status

- ok - fechar a api tambem pra autenticacao usando mesmo codigo
do servico do externo (uam api ja tem que é a do prc, falta a normal fechar por authorize)

ok - corrigido citar, o site usa o servico normal, mas no keykloak q precisa de autenticacao

ok - Logica do numero de serie do conduapp, poderia ser uma tabela com um numero so

ok - colocar em todo o site mvc o codigo pra requisitar com cabecalho certo

ok - adicionar status no credenciamento e no carro, PRC

ok - Replicar as tabelas para o bd certo

ok - historia servico de mudanca de status de motorista

ok - revisar os app settings antes de publicar

ok - perguntar do validAudience

ok - tirar o clientId e etc pq esta chumbado no codigo

ok - colocar os dados certos no app settings

ok - faltou status do veiculo

ok - colcocar apis com o devops

ok - passar o bd e perguntar do ambiente treinamento

ok - fazer o servico q retorna td do motorista

ok - publicar os servicos, depois alguma coisa do site

ok - publicar os servicos, depois alguma coisa do site

ok - busca por hash servico

ok - colocar a branch master e pegar da remota d publicacao e deixar essa parada apenas
para releases

ok - fazer funcao de hash

ok - colocar funcao de hash no create

ok - busca por hash no site resulta na pagina

ok - fazer funcao gerar QR code na pagina

ok - ver sobre o qr code

ok - colocar a inclusao do cabecalho em classe de servico basica depois
===========================================================================================
worklog

31-08-2023

Versionamento, Criacao das Tabelas, Fazendo a folha

01-09-23

Dentro do Clean, get, getAll, getJSon

04 e 05 - 09-2023

Tempo integralmente gasto refatorando um exemplo de clean api
que nao atende os padroes pedidos



eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJENVdtRnlDclVNMXZSWGR3VzdfYzZOZlJ0OG5GdTVLdHI1OVk4ZmxFSVdJIn0.eyJleHAiOjE2OTU0MjI2OTYsImlhdCI6MTY5NTQxNTQ5NiwianRpIjoiYjliNDM2NTctMWQwMC00ZGUzLTk5YjMtZjQxNjQ2ZGRiNDEwIiwiaXNzIjoiaHR0cDovL2Qtc3NvLnByYWlhZ3JhbmRlLnNwLmdvdi5icjo4MDgwL3JlYWxtcy9pbnRlcm5vIiwic3ViIjoiMjk0ZDAzMmQtOTIzOC00YjQ5LTllNGItYjVjZmVmMTdkMzllIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY29uZHUtYXBwIiwic2Vzc2lvbl9zdGF0ZSI6ImJiMGZiZDZkLWM0MGMtNDk4Mi04NGI2LTY0MTNlZGIyMmM4ZSIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMTAiXSwicmVzb3VyY2VfYWNjZXNzIjp7ImNvbmR1LWFwcCI6eyJyb2xlcyI6WyJhZG1pbiIsImdlc3RvciJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsInNpZCI6ImJiMGZiZDZkLWM0MGMtNDk4Mi04NGI2LTY0MTNlZGIyMmM4ZSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWF0ZXVzIGRvcyBTYW50b3MiLCJJZENhZGFzdHJvVW5pY28iOiI1NCIsInByZWZlcnJlZF91c2VybmFtZSI6IjM2ODkxMjcyODkwIiwiZ2l2ZW5fbmFtZSI6Ik1hdGV1cyBkb3MgU2FudG9zIiwiZmFtaWx5X25hbWUiOiIiLCJlbWFpbCI6Im1hdGV1c3NAcHJhaWFncmFuZGUuc3AuZ292LmJyIn0.J5KuY1txUpVPeE7iH6X3o-Vx1kCi_HsnuKMIbi1u665FeM8wroS_F904aCROAwmvk8KDLoym-ZhiatqigewFXcfES9yI3uk-PphAXMx-jeT8_0xvObevLXVp6norQG8aoDyjfwtnb8NUY9JQvSAg-M1XbYfMp-8bE6Q7SKQGkgwV_c8w_sTWog66peajLMU4RRQh3Tlevq9GjZ22zzDdvEweQh-dAHdMLkHL5jO_vSmojl6NmR5tnWt-f0e60hdVsVaN4IX8jNyh7rDLTwKFALjGvTX1uhl5iGCsQvMNpyd-l68m9AWW53Jc-bXNmfJ0q72WYbGNgpFdSNgcgNBkMg

            curl -X POST "https://localhost:44312/Credenciamento/SuperServico" -H  "accept: */*" -H  "Authorization: Bearer " -H  "Content-Type: application/json" -d @conteudo.txt

            curl -X GET "https://localhost:44350/PRC/ListarPRCs" -H  "accept: */*" -H  "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJENVdtRnlDclVNMXZSWGR3VzdfYzZOZlJ0OG5GdTVLdHI1OVk4ZmxFSVdJIn0.eyJleHAiOjE2OTU4MjQzNTksImlhdCI6MTY5NTgxODk1OSwianRpIjoiNGU1MTg5N2EtM2FiZS00NDkwLWE2ZjktODAxZDFhOGRmMDJjIiwiaXNzIjoiaHR0cDovL2Qtc3NvLnByYWlhZ3JhbmRlLnNwLmdvdi5icjo4MDgwL3JlYWxtcy9pbnRlcm5vIiwic3ViIjoiMjk0ZDAzMmQtOTIzOC00YjQ5LTllNGItYjVjZmVmMTdkMzllIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY29uZHUtYXBwIiwic2Vzc2lvbl9zdGF0ZSI6ImYyNWJjZGE1LTY1ODUtNGU0ZC05YmI5LThiNzIzY2M5MDBmMyIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMTAiXSwicmVzb3VyY2VfYWNjZXNzIjp7ImNvbmR1LWFwcCI6eyJyb2xlcyI6WyJhZG1pbiIsImdlc3RvciJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsInNpZCI6ImYyNWJjZGE1LTY1ODUtNGU0ZC05YmI5LThiNzIzY2M5MDBmMyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWF0ZXVzIGRvcyBTYW50b3MiLCJJZENhZGFzdHJvVW5pY28iOiI1NCIsInByZWZlcnJlZF91c2VybmFtZSI6IjM2ODkxMjcyODkwIiwiZ2l2ZW5fbmFtZSI6Ik1hdGV1cyBkb3MgU2FudG9zIiwiZmFtaWx5X25hbWUiOiIiLCJlbWFpbCI6Im1hdGV1c3NAcHJhaWFncmFuZGUuc3AuZ292LmJyIn0.ArJPkyfi9ygTQa2Pk4HnftAb1SVJTOp496J1KI8ri8wux_U6LudJ5Ngd6Xwbwxqq62qJXLul25gNb4zpj84SXKkHnyhKbBB6LlgUe6fa0cMDU-_vAA01NttOnqfyZZpqKjum4RQt34GHxHsDIj3KUAeKa6sWyDIsEvbl2izf0WkY5793gVYz576csSDuRXnJlIilb9naufZiIgiNQ7CIB5gnc8Gvac6OljfcqfR3eZaTO4kmNdylvMGftgcyMlkWNYsYa3hBiHL2VXL_XrnL_zk_LnxYA6X78Qf2U3eil3Npt77syltfh602zPQaZupXi42pe-1iQxXMY6hMS1jCKA" -H  "Content-Type: application/json"

            curl -X POST "https://t-api-conduappprc.praiagrande.sp.gov.br/Credenciamento/SuperServico" -H  "accept: */*" -H  "Authorization: Bearer <token>" -H  "Content-Type: application/json" -d @<conteudo.txt>


{
  "cnpjEmpresa": "2",
  "nomeEmpresa": "ab",
  "linhas": [
    {
      "cpfMotorista": "12345678911",
      "nomeMotorista": "string",
      "idadeMotorista": "30",
      "statusMotorista": "Ativo",
      "placaCarro": "abc1234",
      "modeloCarro": "fiat",
      "corCarro": "cinza",
      "anoCarro": "2000",
      "statusCarro": "Ativo"
    }
  ]
}    




{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "BaseUrl": "https://localhost:44350/",
  "BaseUrlSite": "https://localhost:44310/",
  "Authority": "http://d-sso.praiagrande.sp.gov.br:8080/realms/interno",
  "ClientID": "condu-app",
  "ClientSecret": "7aJsyJhmhEwqtaFE45oyYDVc2pBbjcgT",
  "AllowedHosts": "*"
}



{"realm":"interno","public_key":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnAv5xKRXycLZQpAE8g89k2zcn6qbq3XkmQT7nOAMqy+7cH3UryRxib9bUZSWV1lBompyKCtbtIeJjAk5mCUXYJ2TRb1lkdKD0n8LPya0eVPYkskvXv3qeno2Z6tkPqcw/Hv9GBkOu/z23vGXGDa9ppmTJHhtsTRQsvcO8gb4ZiMf63E21ZE+suR1rYD0/seudxOUVGNgPGkUuHkqrBvRsWbjFk+fGDuLlaxn2oi1z42P87gjw5NZpVdsQDeEzHGoc+k5QyGBUsquNw2J/9/ZshgbLtMR6FhBqn7XX8QiTaSL7pa+Ci14oplgQGjjyHHANGfN22J1r9+aXVqS713fxwIDAQAB","token-service":"https://t-sso.praiagrande.sp.gov.br/realms/interno/protocol/openid-connect","account-service":"https://t-sso.praiagrande.sp.gov.br/realms/interno/account","tokens-not-before":1693504289}


eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJENVdtRnlDclVNMXZSWGR3VzdfYzZOZlJ0OG5GdTVLdHI1OVk4ZmxFSVdJIn0.eyJleHAiOjE2OTYwMTg1ODAsImlhdCI6MTY5NjAxMzE4MCwianRpIjoiZGZhMzhiOGYtNTUwMS00NzgzLTk0YzktMDQyOWRkZDNjYTZkIiwiaXNzIjoiaHR0cDovL2Qtc3NvLnByYWlhZ3JhbmRlLnNwLmdvdi5icjo4MDgwL3JlYWxtcy9pbnRlcm5vIiwic3ViIjoiMjk0ZDAzMmQtOTIzOC00YjQ5LTllNGItYjVjZmVmMTdkMzllIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiY29uZHUtYXBwIiwic2Vzc2lvbl9zdGF0ZSI6ImU4NmY2ZTc3LTBhNzEtNGI1MC1iMjFlLTRkZjFmOTZhOGJmYyIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMTAiXSwicmVzb3VyY2VfYWNjZXNzIjp7ImNvbmR1LWFwcCI6eyJyb2xlcyI6WyJhZG1pbiIsImdlc3RvciJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsInNpZCI6ImU4NmY2ZTc3LTBhNzEtNGI1MC1iMjFlLTRkZjFmOTZhOGJmYyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiTWF0ZXVzIGRvcyBTYW50b3MiLCJJZENhZGFzdHJvVW5pY28iOiI1NCIsInByZWZlcnJlZF91c2VybmFtZSI6IjM2ODkxMjcyODkwIiwiZ2l2ZW5fbmFtZSI6Ik1hdGV1cyBkb3MgU2FudG9zIiwiZmFtaWx5X25hbWUiOiIiLCJlbWFpbCI6Im1hdGV1c3NAcHJhaWFncmFuZGUuc3AuZ292LmJyIn0.kjUH-yuk9VFRrVm2-Bwtcs7RKm84lyBwDy5Qu7QGd8KLV9KuDxtw0PzlPuSh9FxJ5D2OW6yXMqzKhZjaEoRPbOVQX-E_3YP9s78HDsJVBFcbML6gRMBA6dS6O1kGQwFipvyY9JDr-P2k7tyt_JY64f3hqhcCDUWkS56NCFizU6nHETvRwT2rHKsvpzOHz04rtVltrs5QzvT1VyPbff_lnq6wpIR3JzOhLeQoRLWYBR3SGrfse4ERILBVVfDE03W40ig05idkao81lhVmSPr6zzTLXH37ovikrLJrAsKw3jgZvX5YWhZzRzr4OSVfF3bzyyl6ZW3n_gd1y9M4w0WtIw

eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJEWHBPWmxLektOYlFZYXJOUi1xQjRCalFIZEkyb1RWdldzZnlHUUVHS0QwIn0.eyJleHAiOjE2OTYwMTY2NDQsImlhdCI6MTY5NjAxMzA0NCwianRpIjoiNDBiYTc3MGMtMTA4NC00MDRhLTk3MzQtMGM4NGE5MGRiMTY3IiwiaXNzIjoiaHR0cHM6Ly90LXNzby5wcmFpYWdyYW5kZS5zcC5nb3YuYnIvcmVhbG1zL2ludGVybm8iLCJzdWIiOiI5MWU5ZmEzZS0zNzMzLTQ2MzMtYTFkNi1jODMxYTQwMmJkMTkiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJjb25kdS1hcHAiLCJzZXNzaW9uX3N0YXRlIjoiNDgxYzY3MDYtMzIyOS00OTA0LTg0ZTYtY2ExNTg5ZGVhN2YyIiwiYWNyIjoiMSIsInJlc291cmNlX2FjY2VzcyI6eyJjb25kdS1hcHAiOnsicm9sZXMiOlsiYWRtaW4iLCJnZXN0b3IiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJzaWQiOiI0ODFjNjcwNi0zMjI5LTQ5MDQtODRlNi1jYTE1ODlkZWE3ZjIiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik1hdGV1cyBkb3MgU2FudG9zIiwiSWRDYWRhc3Ryb1VuaWNvIjoiMTE0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoiMzY4OTEyNzI4OTAiLCJnaXZlbl9uYW1lIjoiTWF0ZXVzIGRvcyBTYW50b3MiLCJmYW1pbHlfbmFtZSI6IiIsImVtYWlsIjoibWF0ZXVzY2FtcGFyaUBnbWFpbC5jb20ifQ.kQIkxV2LuAGFPiV0tTMpAi9Lsi-DvFcpcX31bxaUIZjL6XgBObp1qFdJZff5z6iMpyi4lJaqjSKZxM94dpjm8Gv2yJ8EXT4QMIFsIpx52LG3SobUv6jRaPvtkIv1sWketB7UGjp7zwLrb0ySn41k3JAEXwszSYR_KHd-HtHrYRUejABYzzu9dNfzyeuB6cCcddw-2hGghtXp-CULDv20Ng8ubxZ4zXc26CLS-2halS-VKyxjnIx3pNs4AaYZ_zNA7RkMC_SLoBEIRtAOVMs3J_klDK1c70Icr5jrHBduld2CGWtsSoiF8wBdu8LwjqqLuxFwWbuCpFNx7mL2fOdiQQ

