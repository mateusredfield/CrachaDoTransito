======================== ConduApp =====================================================

 - Ler e implementar keykloak

- Fazer o site usar a API

- Replicar tudo o que foi feito para a tabela veiculo (clean arch, proj API, swagger, keykloak)
para as tabelas (Condutor, PRC, Credenciamento, TiposSuspensao)

 - Deixar CPF unico (mas ainda usar id)

 - Deveria checar se nao tem um veiculo com a placa ja cadastrada (unique talvez)
 antes de colocar (durante as gravações de dados após o bulk)

 - Fazer a API para envio do bulk de dados das empresas

 - Revisar a tabela carro depois

 - Utilizar a API fingindo ser empresa pra testar em local e dev, depois treinamento
 seriam eles mesmos

 - Remodelar tabelas Veiculo, Condutor, PRC, Agente de transito

 - ConduApp gerado pela app, numero de serie com alguns digitos 

 - bater os tipos nulls das models com os not nulls com o bd, usando builder talvez

 - Setransp -  vai ver empresa e status, e pode mudar esse

 - Qr equipe do rafa

 - (Validacao do modelo de placa) talvez nao fazer pois isso deveria ser responsabilidade
 da empresa

 - Tabela de log de acoes, com campo de log obrigatorio

 - Tratativa de erros mais consisa

 - Explicitar q as emrpesas farao bulk em ambiente de treinamento, e depois em producao

- Ver diferenca entre IEnumerable e IList, ver sobre nullable pois o bd tem mtos null

- art 39 e 47 - reler

 - (futuramente/pos treinamento) Estudar git ignore para projeto Visual Studio, 
   mas talvez o template ja tenha

- (futuramente/pos treinamento) ler sobre addscoped 

============================================================================================

 Preciso Ler
 
  - https://learn.microsoft.com/en-us/aspnet/mvc/overview/older-versions-1/models-data/validation-with-the-data-annotation-validators-cs


============================================================================================


Anotacoes

 - Tavlez as tratativas de erro pudessem ser melhores

 - Precisa versionar o projeto exemplo pois da pra seguir dele

 - Ver onde ficam as DTOs

 - automatizado

 - Lmebrar que parece q a aplicacao fornece a interface do q ela precisa pra depois a apresentacao
 implementar essa camada

 - https://github.com/mateusredfield/CrachaDoTransito.git Keyckloak fica na infra

Talvez reler pois tem 3 tipos de injecao, construtor, propriedade e metodo
 -https://www.tutorialsteacher.com/ioc/dependency-injection#google_vignette

 - ok - Ler duvidas para reuniao, importante frizar q o pedido dos dados pode influenciar na entrega tanto da setransp qnto das empresas,
 e deixar isso homologado por email para caso ocorra atraso fica justificado

 - anotacao - DbExpress nao tem mais, agora é dblocal, nao tem limite de tamanho mas nao tem backup

 - anotacao - Reduncia pois é um projeto rapido

  - ( nao fazer ) Pegar exemplo do felipe para entender algumas modelagens. Nao fazer
 por questoes de tempo

 - Metodo pra busca parcial de placas (exmplo todas que comecem com 123, todas placas SP)

 - query tava dando pau com data annotation

============================================================================================

Perguntar

-Gaddini

  - Onde ficam as opcoes de builder no context pois esta vazio

  - Se o addscoped q liga a interface a classe

  - (nao questionar) Vai usar qual versao do .net, e dependencias afins como os pacotes a serem baixados do nuget?

- Tata

 Duvidas
 
  Laura

  - Os tokens devem ser persistidos no bd? Onde? devem ser encripatados?


 - Conduapp - vai ser so numeros ou vai ter letras

 - Suspensao Temporaria (com data de inicio termino) precisa ser colocado pela setransp

 - O que fazer com o mer qndo tem mudanca de requisito, criar mais tabelas ou nao

 - talvez precise saber qual a modelagem em definitivo pra pedir os dados pras empresas, pois da pra definir commo vai pedir os dados de mais de uma forma

 - Perguntar o q fazer com o bulk pois seria interessante montar a api pra receber o bulk a qualquer momento e guardar isso em algum banco

 - Frizar em pedir os dados para a setranps e as empresas ao mesmo tempo, de preferencia ja entrar em contato com a vim te buscar

 - Ler duvidas para reuniao, importante frizar q o pedido dos dados pode influenciar na entrega tanto da setransp qnto das empresas,
 e deixar isso homologado por email para caso ocorra atraso fica justificado

- Precisa checar se pode criar veículo novamente com a mesma placa (a priori acho que não deveria)

- Quantos conduapp a pessoa vai ter

- Se a empresa para de atuar na cidade precisaria de um status de ativo/inativo

- Preciso saber se temos exoneração de responsabilidade quanto a consistência de dados, como telefone do motorista
- Os documentos CNH etc ficam a cargo da setransp, ou o app infelizmente precisara cuidar disso

- dado que a lei afirma que o vínculo da empresa precisa ser renovado após 1 ano, deveria haver uma opção de
Renovação desde já no app ou poderiamos postergar isso

- seriam 2 roles iniciais talvez pois uma seria o admin q pode tudo dentro do app e outra seria o agente de trânsito
que consultaria placas e faria mais algumas ações, então deve-se começar pela role admin e depois podar as ações para agente

- Vai ter usuário motorista ou algo do tipo pois é dito q e documento pessoal e intrasferível
mas porte durante a atividade seria porte de algo físico, do app ou seria o qr code e placa

- Três penalidades consecutivas, punição é o app ou o admin que coloca isso

- Cronograma, pensando em usar monday ou deveriamos nos ater apenas ao tfs

- Log de ações, verificar se a modelagem do bd já tem log de ações

- Infra deve entrar em contato com algumas empresas, mas acho que precisamos ter a api primeiro

- reunião com a setransp pra definir os dados que eles precisam pra definir os do app pra fazer a api logo

-  quandoa api precisa estar pronta para mandar para as empresas para elas terem tempo pra mandar os dados

- dados do itinerário dos motoristas seriam relevantes ou não

- CPF não está sendo usado com chave primaria pois precisa-se saber se ele pode estar errado e
 por algum motivo precise ser atualizado, pois a validade do mesmo apenas a receita federal pode atestar

- Se atualiza a versao da api ainda precisa recompilar o swagger, mas para o user nao deveria mudar nada

Duvidas pra reuniao

===========================================================================================
Regras de Negocio

 - Problema - Nao tera acesso direto no BD pra mudar dados, seguindo politica de bd relacional
   mas eu mesmo nao gosto da ideia
 - Suspensao Temporaria (com data de inicio termino) pela Setransp mesmo (admin a priori)
 - Codigo -2 significa dados incorretos do form, seja por nulo ou improprios
 - appSettingsParts nao é usado, apenas esta la para referencia 
 - Agente de transito só consulta
 - Veiculo nao tem mesma placa, uma placa pra cada veiculo
 - ConduApp gerado pela app
 - Carro pode estar Suspenso para empresa apenas e cidade
 - Dados e consistencia ficam a cargo da empresa
 - Setransp vai ver empresa e status, e pode mudar esse
 - Qr equipe do rafa
 - Tabela de log de acoes, com campo de log obrigatorio
 - Autenticacao qndo usa API fica com a infra
 - Itinerario nao (km futuramente)
 - Deixar CPF unico (mas ainda usar id)
 - Compilacao de versoes novas de API sem derrubar o site
 - Carro pode estar Suspenso para empresa apenas e cidade
  - (nao fazer) Deveria checar a consistencia da placa talvez, talvez, pois é responsabilidade
 da empresa




===========================================================================================
Backlog

 ok - rever - Hello World em Clean conectando com bd

 ok - Tabela com chave, auto increment correto

 ok - Conduap -  Alinhar nome do projeto

 ok - Versionar - adicionei remoto errado sem querer mas corrigi, 
  problema foi q gastou algumas horas

 ok - Implementar command com handler proprio e implicit operator, 
 modelstate na controller para uma entendi

 ok - Validacao IO (app - regras de negocio) com commands e handlers pra 
 fazer IO - Infra
 
 ok - Validacao command (command - datasets)
 
 ok - Ver os 3 espaços de validacao
 
 ok - Conversar com a gestora sobre se deve-se falar ou nao com o cliente, pois o escopo da memoria é um e a lei nao 
 
 ok - (geladeira) -  Ressalva consideravel - A validacao esta sendo feita artesanalmente para 

 ok - coelga disse q é ok usar viewmodel com clean

 ok - Fazer o json do objeto

 ok - Falta documentos na tabela condutor

 ok -  Lembrar onde colocar o data notation

 ok - Pedido de criacao do bd fica com a tata

 ok - Versionar

 ok - Ler assinador avançado pra ver Questoes do builder e modelo de dados

ok - Clean Architerure usando template, 

ok - Pedir Permissões de projeto - Ambiente git para esse projeto

ok - duvida - Usar viewmodel ou nao, olhar como esta o projeto

ok - duvida - Checar o projeto como um todo

ok - duvida - Seria o template mais pra se basear?

ok - duvida - O Assinador avançado nao tem projeto de api no UI

ok - duvida - Pq tem model na interface do domain

ok - duvida - Handler e CQRS nao estou usando mas tb nao lmebro de ter visto no template

ok - duvida - Comentar sobre focar em um design pattern ou outro pois todos nao vai dar

ok - duvida - Falta algo do tipo DTO

ok - duvida - A aplicacao mvc conhece infra

ok - duvida - Pq o dominio tem uma interface se ele nao deve conhecer ninguem, ele nao deveria saber que metodos
ele precisaria pois ele deveria conter apenas informacao, e nao metodos pq parecem implicar em regras
de negocio da aplicacao, sendo assim o dominio deveria conhecer apenas dominio

ok - Todo command precisa ter a ida e volta

ok - Nome do app e nome do bd, Sistema Conduap

ok - duvida - Caso do motorista alegar ser registrado mas placa nem qr forem encontrados 
(possivel incosistencia no dado enviado antes)

ok - Validacao Infra (Buidler) - Infra - IO

- ok -Cronograma - Talvez usar o monday ou algo do tipo, mas nao, tfs por ser conhecido
 pelos demais, acordado em reuniao


===========================================================================================
worklog

31-08-2023

Versionamento, Criacao das Tabelas, Fazendo a folha

01-09-23

Dentro do Clean, get, getAll, getJSon

04 e 05 - 09-2023

Tempo integralmente gasto refatorando um exemplo de clean api
que nao atende os padroes pedidos